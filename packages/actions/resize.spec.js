import test from '@interactjs/_dev/test/test';
import * as helpers from '@interactjs/core/tests/_helpers';
import pointerUtils from '@interactjs/utils/pointerUtils';
import resize from './resize';
test('resize', t => {
    const scope = helpers.mockScope();
    scope.usePlugin(resize);
    t.ok(scope.actions.names.includes('resize'), '"resize" in actions.names');
    t.equal(scope.actions.methodDict.resize, 'resizable');
    t.equal(typeof scope.Interactable.prototype.resizable, 'function', 'Interactable.resizable method is added');
    const page = { x: 0, y: 0 };
    const event = pointerUtils.coordsToEvent({ page, client: page });
    const interactable = scope.interactables.new('test', {})
        .resizable({
        edges: { left: true, top: true, right: true, bottom: true },
        // use margin greater than width and height
        margin: Infinity,
    });
    const interaction = scope.interactions.new({});
    const rect = { left: 0, top: 0, right: 10, bottom: 10 };
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: true, top: true, right: false, bottom: false },
    });
    page.x = 10;
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: false, top: true, right: true, bottom: false },
    });
    page.y = 10;
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: false, top: false, right: true, bottom: true },
    });
    t.end();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzaXplLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZXNpemUuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLElBQUksTUFBTSw0QkFBNEIsQ0FBQTtBQUM3QyxPQUFPLEtBQUssT0FBTyxNQUFNLGlDQUFpQyxDQUFBO0FBQzFELE9BQU8sWUFBWSxNQUFNLGdDQUFnQyxDQUFBO0FBQ3pELE9BQU8sTUFBTSxNQUFNLFVBQVUsQ0FBQTtBQUU3QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFO0lBQ2pCLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQTtJQUVqQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBRXZCLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLDJCQUEyQixDQUFDLENBQUE7SUFDekUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUE7SUFDckQsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEtBQUssQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsd0NBQXdDLENBQUMsQ0FBQTtJQUU1RyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFBO0lBQzNCLE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxhQUFhLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7SUFDaEUsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztTQUNyRCxTQUFTLENBQUM7UUFDVCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO1FBQzNELDJDQUEyQztRQUMzQyxNQUFNLEVBQUUsUUFBUTtLQUNqQixDQUFDLENBQUE7SUFDSixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQTtJQUM5QyxNQUFNLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQTtJQUV2RCxXQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFBO0lBRWpELENBQUMsQ0FBQyxTQUFTLENBQ1QsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQy9FO1FBQ0UsSUFBSSxFQUFFLFFBQVE7UUFDZCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0tBQzlELENBQ0YsQ0FBQTtJQUVELElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFBO0lBQ1gsV0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUVqRCxDQUFDLENBQUMsU0FBUyxDQUNULEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUMvRTtRQUNFLElBQUksRUFBRSxRQUFRO1FBQ2QsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRTtLQUM5RCxDQUNGLENBQUE7SUFFRCxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtJQUNYLFdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFFakQsQ0FBQyxDQUFDLFNBQVMsQ0FDVCxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFDL0U7UUFDRSxJQUFJLEVBQUUsUUFBUTtRQUNkLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7S0FDOUQsQ0FDRixDQUFBO0lBRUQsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFBO0FBQ1QsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdGVzdCBmcm9tICdAaW50ZXJhY3Rqcy9fZGV2L3Rlc3QvdGVzdCdcbmltcG9ydCAqIGFzIGhlbHBlcnMgZnJvbSAnQGludGVyYWN0anMvY29yZS90ZXN0cy9faGVscGVycydcbmltcG9ydCBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuaW1wb3J0IHJlc2l6ZSBmcm9tICcuL3Jlc2l6ZSdcblxudGVzdCgncmVzaXplJywgdCA9PiB7XG4gIGNvbnN0IHNjb3BlID0gaGVscGVycy5tb2NrU2NvcGUoKVxuXG4gIHNjb3BlLnVzZVBsdWdpbihyZXNpemUpXG5cbiAgdC5vayhzY29wZS5hY3Rpb25zLm5hbWVzLmluY2x1ZGVzKCdyZXNpemUnKSwgJ1wicmVzaXplXCIgaW4gYWN0aW9ucy5uYW1lcycpXG4gIHQuZXF1YWwoc2NvcGUuYWN0aW9ucy5tZXRob2REaWN0LnJlc2l6ZSwgJ3Jlc2l6YWJsZScpXG4gIHQuZXF1YWwodHlwZW9mIHNjb3BlLkludGVyYWN0YWJsZS5wcm90b3R5cGUucmVzaXphYmxlLCAnZnVuY3Rpb24nLCAnSW50ZXJhY3RhYmxlLnJlc2l6YWJsZSBtZXRob2QgaXMgYWRkZWQnKVxuXG4gIGNvbnN0IHBhZ2UgPSB7IHg6IDAsIHk6IDAgfVxuICBjb25zdCBldmVudCA9IHBvaW50ZXJVdGlscy5jb29yZHNUb0V2ZW50KHsgcGFnZSwgY2xpZW50OiBwYWdlIH0pXG4gIGNvbnN0IGludGVyYWN0YWJsZSA9IHNjb3BlLmludGVyYWN0YWJsZXMubmV3KCd0ZXN0Jywge30pXG4gICAgLnJlc2l6YWJsZSh7XG4gICAgICBlZGdlczogeyBsZWZ0OiB0cnVlLCB0b3A6IHRydWUsIHJpZ2h0OiB0cnVlLCBib3R0b206IHRydWUgfSxcbiAgICAgIC8vIHVzZSBtYXJnaW4gZ3JlYXRlciB0aGFuIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgIG1hcmdpbjogSW5maW5pdHksXG4gICAgfSlcbiAgY29uc3QgaW50ZXJhY3Rpb24gPSBzY29wZS5pbnRlcmFjdGlvbnMubmV3KHt9KVxuICBjb25zdCByZWN0ID0geyBsZWZ0OiAwLCB0b3A6IDAsIHJpZ2h0OiAxMCwgYm90dG9tOiAxMCB9XG5cbiAgaW50ZXJhY3Rpb24udXBkYXRlUG9pbnRlcihldmVudCwgZXZlbnQsIHt9LCB0cnVlKVxuXG4gIHQuZGVlcEVxdWFsKFxuICAgIHNjb3BlLmFjdGlvbnMucmVzaXplLmNoZWNrZXIoZXZlbnQsIGV2ZW50LCBpbnRlcmFjdGFibGUsIHt9LCBpbnRlcmFjdGlvbiwgcmVjdCksXG4gICAge1xuICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICBlZGdlczogeyBsZWZ0OiB0cnVlLCB0b3A6IHRydWUsIHJpZ2h0OiBmYWxzZSwgYm90dG9tOiBmYWxzZSB9LFxuICAgIH0sXG4gIClcblxuICBwYWdlLnggPSAxMFxuICBpbnRlcmFjdGlvbi51cGRhdGVQb2ludGVyKGV2ZW50LCBldmVudCwge30sIHRydWUpXG5cbiAgdC5kZWVwRXF1YWwoXG4gICAgc2NvcGUuYWN0aW9ucy5yZXNpemUuY2hlY2tlcihldmVudCwgZXZlbnQsIGludGVyYWN0YWJsZSwge30sIGludGVyYWN0aW9uLCByZWN0KSxcbiAgICB7XG4gICAgICBuYW1lOiAncmVzaXplJyxcbiAgICAgIGVkZ2VzOiB7IGxlZnQ6IGZhbHNlLCB0b3A6IHRydWUsIHJpZ2h0OiB0cnVlLCBib3R0b206IGZhbHNlIH0sXG4gICAgfSxcbiAgKVxuXG4gIHBhZ2UueSA9IDEwXG4gIGludGVyYWN0aW9uLnVwZGF0ZVBvaW50ZXIoZXZlbnQsIGV2ZW50LCB7fSwgdHJ1ZSlcblxuICB0LmRlZXBFcXVhbChcbiAgICBzY29wZS5hY3Rpb25zLnJlc2l6ZS5jaGVja2VyKGV2ZW50LCBldmVudCwgaW50ZXJhY3RhYmxlLCB7fSwgaW50ZXJhY3Rpb24sIHJlY3QpLFxuICAgIHtcbiAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgZWRnZXM6IHsgbGVmdDogZmFsc2UsIHRvcDogZmFsc2UsIHJpZ2h0OiB0cnVlLCBib3R0b206IHRydWUgfSxcbiAgICB9LFxuICApXG5cbiAgdC5lbmQoKVxufSlcbiJdfQ==