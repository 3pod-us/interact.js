import test from '@interactjs/_dev/test/test';
import Interaction from '@interactjs/core/Interaction';
import * as helpers from '@interactjs/core/tests/_helpers';
import pointerUtils from '@interactjs/utils/pointerUtils';
import Signals from '@interactjs/utils/Signals';
import PointerEvent from './PointerEvent';
test('PointerEvent constructor', t => {
    const type = 'TEST_EVENT';
    const pointerId = -100;
    const testPointerProp = ['TEST_POINTER_PROP'];
    const pointer = {
        pointerId,
        testPointerProp,
        pointerType: 'TEST_POINTER_TYPE',
    };
    const testEventProp = ['TEST_EVENT_PROP'];
    const event = {
        testEventProp,
    };
    const interaction = new Interaction({ signals: new Signals() });
    const eventTarget = {};
    const pointerEvent = new PointerEvent(type, pointer, event, eventTarget, interaction, 0);
    t.equal(pointerEvent.testPointerProp, testPointerProp, 'pointerEvent is extended form pointer');
    t.equal(pointerEvent.testEventProp, testEventProp, 'pointerEvent is extended form Event');
    t.equal(pointerEvent.type, type, 'type is set correctly');
    t.equal(pointerEvent.pointerType, pointerUtils.getPointerType(pointer), 'pointerType is set correctly');
    t.equal(pointerEvent.pointerId, pointerId, 'pointerId is set correctly');
    t.equal(pointerEvent.originalEvent, event, 'originalEvent is set correctly');
    t.equal(pointerEvent.interaction, interaction._proxy, 'interaction is set correctly');
    t.equal(pointerEvent.target, eventTarget, 'target is set correctly');
    t.equal(pointerEvent.currentTarget, null, 'currentTarget is null');
    t.end();
});
test('PointerEvent methods', t => {
    const methodContexts = {};
    const event = ['preventDefault', 'stopPropagation', 'stopImmediatePropagation']
        .reduce((acc, methodName) => {
        acc[methodName] = function () { methodContexts[methodName] = this; };
        return acc;
    }, helpers.newPointer());
    const pointerEvent = new PointerEvent('TEST', {}, event, null, {}, 0);
    pointerEvent.preventDefault();
    t.equal(methodContexts.preventDefault, event, 'PointerEvent.preventDefault() calls preventDefault of originalEvent');
    t.notOk(pointerEvent.propagationStopped, 'propagationStopped is false before call to stopPropagation');
    pointerEvent.stopPropagation();
    t.ok(pointerEvent.propagationStopped, 'stopPropagation sets propagationStopped to true');
    t.equal(methodContexts.stopPropagation, undefined, 'PointerEvent.stopPropagation() does not call stopPropagation of originalEvent');
    t.notOk(pointerEvent.immediatePropagationStopped, 'immediatePropagationStopped is false before call to stopImmediatePropagation');
    pointerEvent.stopImmediatePropagation();
    t.equal(methodContexts.stopImmediatePropagation, undefined, 'PointerEvent.stopImmediatePropagation() does not call stopImmediatePropagation of originalEvent');
    t.ok(pointerEvent.immediatePropagationStopped, 'stopImmediatePropagation sets immediatePropagationStopped to true');
    const origin = { x: 20, y: 30 };
    pointerEvent._subtractOrigin(origin);
    t.equal(pointerEvent.pageX, event.pageX - origin.x, 'subtractOrigin updates pageX correctly');
    t.equal(pointerEvent.pageY, event.pageY - origin.y, 'subtractOrigin updates pageY correctly');
    t.equal(pointerEvent.clientX, event.clientX - origin.x, 'subtractOrigin updates clientX correctly');
    t.equal(pointerEvent.clientY, event.clientY - origin.y, 'subtractOrigin updates clientY correctly');
    pointerEvent._addOrigin(origin);
    t.ok(['pageX', 'pageY', 'clientX', 'clientY'].reduce((allEqual, prop) => allEqual && pointerEvent[prop] === event[prop], true), 'addOrigin with the subtracted origin reverts to original coordinates');
    t.end();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9pbnRlckV2ZW50LnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJQb2ludGVyRXZlbnQuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLElBQUksTUFBTSw0QkFBNEIsQ0FBQTtBQUM3QyxPQUFPLFdBQVcsTUFBTSw4QkFBOEIsQ0FBQTtBQUN0RCxPQUFPLEtBQUssT0FBTyxNQUFNLGlDQUFpQyxDQUFBO0FBQzFELE9BQU8sWUFBWSxNQUFNLGdDQUFnQyxDQUFBO0FBQ3pELE9BQU8sT0FBTyxNQUFNLDJCQUEyQixDQUFBO0FBQy9DLE9BQU8sWUFBWSxNQUFNLGdCQUFnQixDQUFBO0FBRXpDLElBQUksQ0FBQywwQkFBMEIsRUFBRSxDQUFDLENBQUMsRUFBRTtJQUNuQyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUE7SUFDekIsTUFBTSxTQUFTLEdBQUcsQ0FBQyxHQUFHLENBQUE7SUFDdEIsTUFBTSxlQUFlLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO0lBQzdDLE1BQU0sT0FBTyxHQUFHO1FBQ2QsU0FBUztRQUNULGVBQWU7UUFDZixXQUFXLEVBQUUsbUJBQW1CO0tBQzFCLENBQUE7SUFDUixNQUFNLGFBQWEsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUE7SUFDekMsTUFBTSxLQUFLLEdBQUc7UUFDWixhQUFhO0tBQ1AsQ0FBQTtJQUNSLE1BQU0sV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksT0FBTyxFQUFFLEVBQVMsQ0FBQyxDQUFBO0lBQ3RFLE1BQU0sV0FBVyxHQUFHLEVBQXNCLENBQUE7SUFDMUMsTUFBTSxZQUFZLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQVEsQ0FBQTtJQUUvRixDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsZUFBZSxFQUNuRCx1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QWUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUVwQyxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUksS0FBSyxDQUFDLEtBQUssR0FBSyxNQUFNLENBQUMsQ0FBQyxFQUFFLHdDQUF3QyxDQUFDLENBQUE7SUFDakcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUssTUFBTSxDQUFDLENBQUMsRUFBRSx3Q0FBd0MsQ0FBQyxDQUFBO0lBQ2pHLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsMENBQTBDLENBQUMsQ0FBQTtJQUNuRyxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLDBDQUEwQyxDQUFDLENBQUE7SUFFbkcsWUFBWSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUMvQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsUUFBUSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQzVILHNFQUFzRSxDQUFDLENBQUE7SUFFekUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFBO0FBQ1QsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdGVzdCBmcm9tICdAaW50ZXJhY3Rqcy9fZGV2L3Rlc3QvdGVzdCdcbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0ICogYXMgaGVscGVycyBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Rlc3RzL19oZWxwZXJzJ1xuaW1wb3J0IHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5pbXBvcnQgU2lnbmFscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9TaWduYWxzJ1xuaW1wb3J0IFBvaW50ZXJFdmVudCBmcm9tICcuL1BvaW50ZXJFdmVudCdcblxudGVzdCgnUG9pbnRlckV2ZW50IGNvbnN0cnVjdG9yJywgdCA9PiB7XG4gIGNvbnN0IHR5cGUgPSAnVEVTVF9FVkVOVCdcbiAgY29uc3QgcG9pbnRlcklkID0gLTEwMFxuICBjb25zdCB0ZXN0UG9pbnRlclByb3AgPSBbJ1RFU1RfUE9JTlRFUl9QUk9QJ11cbiAgY29uc3QgcG9pbnRlciA9IHtcbiAgICBwb2ludGVySWQsXG4gICAgdGVzdFBvaW50ZXJQcm9wLFxuICAgIHBvaW50ZXJUeXBlOiAnVEVTVF9QT0lOVEVSX1RZUEUnLFxuICB9IGFzIGFueVxuICBjb25zdCB0ZXN0RXZlbnRQcm9wID0gWydURVNUX0VWRU5UX1BST1AnXVxuICBjb25zdCBldmVudCA9IHtcbiAgICB0ZXN0RXZlbnRQcm9wLFxuICB9IGFzIGFueVxuICBjb25zdCBpbnRlcmFjdGlvbiA9IG5ldyBJbnRlcmFjdGlvbih7IHNpZ25hbHM6IG5ldyBTaWduYWxzKCkgfSBhcyBhbnkpXG4gIGNvbnN0IGV2ZW50VGFyZ2V0ID0ge30gYXMgSW50ZXJhY3QuRWxlbWVudFxuICBjb25zdCBwb2ludGVyRXZlbnQgPSBuZXcgUG9pbnRlckV2ZW50KHR5cGUsIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgaW50ZXJhY3Rpb24sIDApIGFzIGFueVxuXG4gIHQuZXF1YWwocG9pbnRlckV2ZW50LnRlc3RQb2ludGVyUHJvcCwgdGVzdFBvaW50ZXJQcm9wLFxuICAgICdwb2ludGVyRXZlbnQgaXMgZXh0ZW5kZWQgZm9ybSBwb2ludGVyJylcbiAgdC5lcXVhbChwb2ludGVyRXZlbnQudGVzdEV2ZW50UHJvcCwgdGVzdEV2ZW50UHJvcCxcbiAgICAncG9pbnRlckV2ZW50IGlzIGV4dGVuZGVkIGZvcm0gRXZlbnQnKVxuXG4gIHQuZXF1YWwocG9pbnRlckV2ZW50LnR5cGUsIHR5cGUsXG4gICAgJ3R5cGUgaXMgc2V0IGNvcnJlY3RseScpXG4gIHQuZXF1YWwocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlLCBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlclR5cGUocG9pbnRlciksXG4gICAgJ3BvaW50ZXJUeXBlIGlzIHNldCBjb3JyZWN0bHknKVxuICB0LmVxdWFsKHBvaW50ZXJFdmVudC5wb2ludGVySWQsIHBvaW50ZXJJZCxcbiAgICAncG9pbnRlcklkIGlzIHNldCBjb3JyZWN0bHknKVxuICB0LmVxdWFsKHBvaW50ZXJFdmVudC5vcmlnaW5hbEV2ZW50LCBldmVudCxcbiAgICAnb3JpZ2luYWxFdmVudCBpcyBzZXQgY29ycmVjdGx5JylcbiAgdC5lcXVhbChwb2ludGVyRXZlbnQuaW50ZXJhY3Rpb24sIGludGVyYWN0aW9uLl9wcm94eSxcbiAgICAnaW50ZXJhY3Rpb24gaXMgc2V0IGNvcnJlY3RseScpXG4gIHQuZXF1YWwocG9pbnRlckV2ZW50LnRhcmdldCwgZXZlbnRUYXJnZXQsXG4gICAgJ3RhcmdldCBpcyBzZXQgY29ycmVjdGx5JylcbiAgdC5lcXVhbChwb2ludGVyRXZlbnQuY3VycmVudFRhcmdldCwgbnVsbCxcbiAgICAnY3VycmVudFRhcmdldCBpcyBudWxsJylcblxuICB0LmVuZCgpXG59KVxuXG50ZXN0KCdQb2ludGVyRXZlbnQgbWV0aG9kcycsIHQgPT4ge1xuICBjb25zdCBtZXRob2RDb250ZXh0cyA9IHt9IGFzIGFueVxuICBjb25zdCBldmVudDogYW55ID0gWydwcmV2ZW50RGVmYXVsdCcsICdzdG9wUHJvcGFnYXRpb24nLCAnc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJ11cbiAgICAucmVkdWNlKChhY2MsIG1ldGhvZE5hbWUpID0+IHtcbiAgICAgIGFjY1ttZXRob2ROYW1lXSA9IGZ1bmN0aW9uICgpIHsgbWV0aG9kQ29udGV4dHNbbWV0aG9kTmFtZV0gPSB0aGlzIH1cbiAgICAgIHJldHVybiBhY2NcbiAgICB9LCBoZWxwZXJzLm5ld1BvaW50ZXIoKSlcbiAgY29uc3QgcG9pbnRlckV2ZW50ID0gbmV3IFBvaW50ZXJFdmVudCgnVEVTVCcsIHt9IGFzIGFueSwgZXZlbnQsIG51bGwsIHt9IGFzIGFueSwgMClcblxuICBwb2ludGVyRXZlbnQucHJldmVudERlZmF1bHQoKVxuICB0LmVxdWFsKG1ldGhvZENvbnRleHRzLnByZXZlbnREZWZhdWx0LCBldmVudCxcbiAgICAnUG9pbnRlckV2ZW50LnByZXZlbnREZWZhdWx0KCkgY2FsbHMgcHJldmVudERlZmF1bHQgb2Ygb3JpZ2luYWxFdmVudCcpXG5cbiAgdC5ub3RPayhwb2ludGVyRXZlbnQucHJvcGFnYXRpb25TdG9wcGVkLFxuICAgICdwcm9wYWdhdGlvblN0b3BwZWQgaXMgZmFsc2UgYmVmb3JlIGNhbGwgdG8gc3RvcFByb3BhZ2F0aW9uJylcbiAgcG9pbnRlckV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gIHQub2socG9pbnRlckV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCxcbiAgICAnc3RvcFByb3BhZ2F0aW9uIHNldHMgcHJvcGFnYXRpb25TdG9wcGVkIHRvIHRydWUnKVxuICB0LmVxdWFsKG1ldGhvZENvbnRleHRzLnN0b3BQcm9wYWdhdGlvbiwgdW5kZWZpbmVkLFxuICAgICdQb2ludGVyRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkgZG9lcyBub3QgY2FsbCBzdG9wUHJvcGFnYXRpb24gb2Ygb3JpZ2luYWxFdmVudCcpXG5cbiAgdC5ub3RPayhwb2ludGVyRXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkLFxuICAgICdpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgaXMgZmFsc2UgYmVmb3JlIGNhbGwgdG8gc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJylcbiAgcG9pbnRlckV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4gIHQuZXF1YWwobWV0aG9kQ29udGV4dHMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLCB1bmRlZmluZWQsXG4gICAgJ1BvaW50ZXJFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSBkb2VzIG5vdCBjYWxsIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiBvZiBvcmlnaW5hbEV2ZW50JylcbiAgdC5vayhwb2ludGVyRXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkLFxuICAgICdzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gc2V0cyBpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgdG8gdHJ1ZScpXG5cbiAgY29uc3Qgb3JpZ2luID0geyB4OiAyMCwgeTogMzAgfVxuICBwb2ludGVyRXZlbnQuX3N1YnRyYWN0T3JpZ2luKG9yaWdpbilcblxuICB0LmVxdWFsKHBvaW50ZXJFdmVudC5wYWdlWCwgICBldmVudC5wYWdlWCAgIC0gb3JpZ2luLngsICdzdWJ0cmFjdE9yaWdpbiB1cGRhdGVzIHBhZ2VYIGNvcnJlY3RseScpXG4gIHQuZXF1YWwocG9pbnRlckV2ZW50LnBhZ2VZLCAgIGV2ZW50LnBhZ2VZICAgLSBvcmlnaW4ueSwgJ3N1YnRyYWN0T3JpZ2luIHVwZGF0ZXMgcGFnZVkgY29ycmVjdGx5JylcbiAgdC5lcXVhbChwb2ludGVyRXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WCAtIG9yaWdpbi54LCAnc3VidHJhY3RPcmlnaW4gdXBkYXRlcyBjbGllbnRYIGNvcnJlY3RseScpXG4gIHQuZXF1YWwocG9pbnRlckV2ZW50LmNsaWVudFksIGV2ZW50LmNsaWVudFkgLSBvcmlnaW4ueSwgJ3N1YnRyYWN0T3JpZ2luIHVwZGF0ZXMgY2xpZW50WSBjb3JyZWN0bHknKVxuXG4gIHBvaW50ZXJFdmVudC5fYWRkT3JpZ2luKG9yaWdpbilcbiAgdC5vayhbJ3BhZ2VYJywgJ3BhZ2VZJywgJ2NsaWVudFgnLCAnY2xpZW50WSddLnJlZHVjZSgoYWxsRXF1YWwsIHByb3ApID0+IGFsbEVxdWFsICYmIHBvaW50ZXJFdmVudFtwcm9wXSA9PT0gZXZlbnRbcHJvcF0sIHRydWUpLFxuICAgICdhZGRPcmlnaW4gd2l0aCB0aGUgc3VidHJhY3RlZCBvcmlnaW4gcmV2ZXJ0cyB0byBvcmlnaW5hbCBjb29yZGluYXRlcycpXG5cbiAgdC5lbmQoKVxufSlcbiJdfQ==