import e from"./browser";import t from"./domObjects";import n from"./is";import o,{getWindow as r}from"./window";export function nodeContains(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}export function closest(e,t){for(;n.element(e);){if(matchesSelector(e,t))return e;e=parentNode(e)}return null}export function parentNode(e){let t=e.parentNode;if(n.docFrag(t)){for(;(t=t.host)&&n.docFrag(t););return t}return t}export function matchesSelector(t,n){return o.window!==o.realWindow&&(n=n.replace(/\/deep\//g," ")),t[e.prefixedMatchesSelector](n)}const i=e=>e.parentNode?e.parentNode:e.host;export function indexOfDeepestElement(e){let n,o,c=[],l=e[0],f=l?0:-1;for(n=1;n<e.length;n++){const u=e[n];if(!u||u===l)continue;if(!l){l=u,f=n;continue}if(u.parentNode===u.ownerDocument)continue;if(l.parentNode===u.ownerDocument){l=u,f=n;continue}if(u.parentNode===l.parentNode){const e=parseInt(r(l).getComputedStyle(l).zIndex,10)||0;(parseInt(r(u).getComputedStyle(u).zIndex,10)||0)>=e&&(l=u,f=n);continue}if(!c.length){let e,t=l;for(;(e=i(t))&&e!==t.ownerDocument;)c.unshift(t),t=e}let p;if(l instanceof t.HTMLElement&&u instanceof t.SVGElement&&!(u instanceof t.SVGSVGElement)){if(u===l.parentNode)continue;p=u.ownerSVGElement}else p=u;const s=[];for(;p.parentNode!==p.ownerDocument;)s.unshift(p),p=i(p);for(o=0;s[o]&&s[o]===c[o];)o++;const m=[s[o-1],s[o],c[o]];let d=m[0].lastChild;for(;d;){if(d===m[1]){l=u,f=n,c=s;break}if(d===m[2])break;d=d.previousSibling}}return f}export function matchesUpTo(e,t,o){for(;n.element(e);){if(matchesSelector(e,t))return!0;if((e=parentNode(e))===o)return matchesSelector(e,t)}return!1}export function getActualElement(e){return e instanceof t.SVGElementInstance?e.correspondingUseElement:e}export function getScrollXY(e){return{x:(e=e||o.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}export function getElementClientRect(e){const n=e instanceof t.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return n&&{left:n.left,right:n.right,top:n.top,bottom:n.bottom,width:n.width||n.right-n.left,height:n.height||n.bottom-n.top}}export function getElementRect(t){const n=getElementClientRect(t);if(!e.isIOS7&&n){const e=getScrollXY(o.getWindow(t));n.left+=e.x,n.right+=e.x,n.top+=e.y,n.bottom+=e.y}return n}export function getPath(e){const t=[];for(;e;)t.push(e),e=parentNode(e);return t}export function trySelector(e){return!!n.string(e)&&(t.document.querySelector(e),!0)}
//# sourceMappingURL=domUtils.min.js.map